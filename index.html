---
layout: default
title: 放課後のサイエンス
---

<div class="home" id="home">
	<div class="home-layout">
		<!-- カテゴリサイドバー (PC) -->
		<aside class="category-sidebar">
			<h3 class="sidebar-title">カテゴリ</h3>
			<ul class="category-list">
				<li>
					<button class="category-btn active" data-category="all">
						すべて
						<span class="category-count">{{ site.posts | size }}</span>
					</button>
				</li>
				{% assign categories = "materials-informatics,knowledge-graph,ai-tech" | split: "," %}
				{% assign category_names = "Materials Informatics,Knowledge Graph,AI/Tech" | split: "," %}
				{% for cat in categories %}
				{% assign cat_posts = site.posts | where: "category", cat %}
				{% if cat_posts.size > 0 %}
				<li>
					<button class="category-btn" data-category="{{ cat }}">
						{{ category_names[forloop.index0] }}
						<span class="category-count">{{ cat_posts.size }}</span>
					</button>
				</li>
				{% endif %}
				{% endfor %}
			</ul>
		</aside>

		<!-- メインコンテンツ -->
		<main class="home-main">
			<h1 class="pageTitle">Recent Posts</h1>

			<!-- モバイル用カテゴリフィルター -->
			<div class="category-mobile">
				<select class="category-select" aria-label="カテゴリを選択">
					<option value="all">すべてのカテゴリ</option>
					{% for cat in categories %}
					{% assign cat_posts = site.posts | where: "category", cat %}
					{% if cat_posts.size > 0 %}
					<option value="{{ cat }}">{{ category_names[forloop.index0] }}</option>
					{% endif %}
					{% endfor %}
				</select>
			</div>

			<!-- シリーズ記事 -->
			{% assign series_list = "mi-kg-fusion,mi-expectations,kg-practice" | split: "," %}
			{% assign series_titles = "MI×KG融合が拓く新時代,実務家がMIに期待すること,化学分野のKG作ってみた" | split: "," %}

			{% for series_id in series_list %}
			{% assign series_posts = site.posts | where: "series", series_id | sort: "series_order" %}
			{% if series_posts.size > 0 %}
			{% assign first_post = series_posts | first %}
			<section class="series-section" data-category="{{ first_post.category }}">
				<div class="series-header">
					<span class="series-badge">シリーズ</span>
					<h2 class="series-title">{{ series_titles[forloop.index0] }}</h2>
					<span class="series-count">{{ series_posts.size }}記事</span>
				</div>
				<div class="series-posts">
					{% for post in series_posts %}
					<article class="series-post-item">
						<span class="series-order">{{ post.series_order }}</span>
						<div class="series-post-content">
							<h3>
								<a class="post-link" href="{{ post.url | relative_url }}">{{ post.title }}</a>
							</h3>
							<span class="date">{{ post.date | date: '%Y年%m月%d日' }}</span>
						</div>
					</article>
					{% endfor %}
				</div>
			</section>
			{% endif %}
			{% endfor %}

			<!-- 単発記事 -->
			{% assign standalone_posts = site.posts | where_exp: "post", "post.series == nil" %}
			{% if standalone_posts.size > 0 %}
			<section class="standalone-section">
				<h2 class="section-title">単発記事</h2>
				<div class="posts noList">
					{% for post in standalone_posts %}
					<article data-category="{{ post.category }}">
						<span class="date">{{ post.date | date: '%Y年%m月%d日' }}</span>
						<h3>
							<a class="post-link" href="{{ post.url | relative_url }}">{{ post.title }}</a>
						</h3>
						<p>
							{%- if post.description -%}{{ post.description }}{%- else -%}{{
							post.excerpt | strip_html | truncate: 120 }}{%- endif -%}
						</p>
						{% if post.tags %}
						<div class="post-tags">
							{% for tag in post.tags limit:3 %}
							<span class="tag">{{ tag }}</span>
							{% endfor %}
						</div>
						{% endif %}
					</article>
					{% endfor %}
				</div>
			</section>
			{% endif %}

			<!-- ページネーション -->
			{% if paginator.total_pages > 1 %}
			<div class="pagination">
				{%- if paginator.previous_page -%}
				<a
					href="{{ paginator.previous_page_path | relative_url }}"
					class="previous button__outline"
					>Newer Posts</a
				>
				{%- endif -%} {%- if paginator.next_page -%}
				<a href="{{ paginator.next_page_path | relative_url }}" class="next button__outline"
					>Older Posts</a
				>
				{%- endif -%}
			</div>
			{% endif %}
		</main>
	</div>
</div>

<script src="{{ '/assets/js/category-filter.js' | relative_url }}"></script>
